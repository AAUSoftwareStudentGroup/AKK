<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, minimum-scale=1, maximum-scale=3">
    <title>AKK - Find Route</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/handlebars.min.js"></script>
    <script type="text/javascript" src="js/eventnotifier.js"></script>
    <script type="text/javascript" src="js/navigation-service.js"></script>
    <script type="text/javascript" src="js/cookie-service.js"></script>
    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/client.js"></script>
    <script type="text/javascript" src="js/routes-view-model.js"></script>
    <script type="text/javascript" src="js/helpers.js"></script>
    <script type="text/javascript" src="js/header-view-model.js"></script>
    <script src="js/routes.js"></script>
</head>
<body>
    <div id="header"></div>
    <div class="content">
        <div id="filtersectiontemplate"></div>
        <div id="content"></div>
        <a href="new-route"><div id="newroute-button" class="button-shadow">+</div></a>
    </div>
    <script id="filter-section-template" type="text/x-handlebars-template">
        <div class="content-section options">
            <form>
                {{#if isSearching}}
                <div class="left"style="width:100%;">
                    <h2>Search</h2>
                    <div style="width:100%;">
                    <input id="search-field" type="text" placeholder="E.g. Red 42" style="display:inline;">
                    <svg style="width:24px;height:24px;float:right;" viewBox="0 0 24 24" onclick="viewModel.searchClicked()">
                        <path fill="rgba(0,0,0,0.4)" d="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z" />
                    </svg>
                    </div>
                </div>
                {{else}}
                <div class="drop-down-container left">
                    <h2>Grade</h2>
                    <select class="drop-down" onchange="viewModel.changeGrade(this.value)" type="dropdown" name="grade">
                        {{#each grades}}
                        <option id="grade-{{id}}" value="{{id}}">{{name}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="drop-down-container left">
                    <h2>Section</h2>
                    <select class="drop-down" onchange="viewModel.changeSection(this.value)" type="dropdown" name="section">
                        {{#each sections}}
                        <option id="section-{{name}}" value="{{id}}">{{name}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="drop-down-container left">
                    <h2>Sort by</h2>
                    <select class="drop-down" onchange="viewModel.changeSortBy(this.value)" type="dropdown" name="sortBy">
                        {{#each sortOptions}}
                        <option id="sortby-{{value}}" value="{{value}}">{{name}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="right">
                    <h2>Search</h2>
                    <svg style="float:right;width:24px;height:24px;" viewBox="0 0 24 24" onclick="viewModel.searchClicked()">
                        <path fill="rgba(0, 0, 0, 0.40)" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                    </svg>
                </div>
                {{/if}}
            </form>
        </div>
    </script>
    <script id="routes-template" type="text/x-handlebars-template">
        <div class="content-section route-list">
            {{#each routes}}
            <a href="route-info?routeId={{id}}">
                <div class="route-card">
                    <div class="route-card-top">
                        <div class="route-grade-number grade-{{grade.difficulty}}">
                            {{#ifCond grade.color 200}}
                            <span class="number" style="background-color: rgb({{grade.color.r}},{{grade.color.g}},{{grade.color.b}})">{{name}}</span>
                            {{else}}
                            <span class="number" style="background-color: rgb({{grade.color.r}},{{grade.color.g}},{{grade.color.b}}); color: black">
                            {{name}}
                            </span>
                            {{/ifCond}}
                        </div>
                        <span class="route-section"></span>
                        <span class="route-section">Section: {{sectionName}}</span>
                        <div class="route-grip">
                            <svg viewBox="0 0 132 108" xmlns="http://www.w3.org/2000/svg">
                                <g>
                                    <path id="grip-midtone" d="m77.3,6.65c-10.7,5.3 -33.1,15.5 -56.8,20.5c-7.6,1.6 -13.5,7.5 -14.8,15.2c-1.1,6.2 -1.7,14 -0.6,22c1.2,8.9 8.6,15.6 17.6,16.1c13.7,0.8 36.5,4.8 55.2,21.6c5.7,5.1 14.1,6.1 20.9,2.6c8.3,-4.2 19,-11.2 27.7,-22.4c5,-6.5 5.5,-15.5 0.8,-22.2c-4.4,-6.3 -9.3,-15.9 -10.3,-28.7c-0.4,-4.5 -2.2,-8.7 -5.4,-11.8c-4.1,-4.1 -10.3,-9.4 -17.6,-13c-5.3,-2.5 -11.5,-2.5 -16.7,0.1z" fill="rgb({{colorOfHolds.r}},{{colorOfHolds.g}},{{colorOfHolds.b}})"></path>
                                    <g fill="none">
                                        <path d="M 36.836383,33.068567 C 35.213237,32.496533 27.693198,29.524638 26.0254,29.248225 c 2.143442,-1.861054 3.712738,-3.316786 5.856531,-4.894293 1.367188,-0.382813 12.179769,-3.777121 14.179769,-4.488059 -2.964755,5.020908 -5.947458,8.02823 -9.225317,13.202694 z" />
                                        <path d="m 24.442188,73.077988 c 1.557844,3.447141 11.510897,5.693371 12.417063,1.46103 -2.103343,-14.804299 -0.389963,-37.666269 -0.02593,-41.468466 0.03049,-1.239421 -6.95035,-5.688298 -10.802212,-3.827023 -2.750526,12.215569 -2.640597,36.472758 -1.588921,43.834459 z" />
                                        <path d="m 24.447945,73.064321 1.636801,7.663963 c 4.70668,0.419845 6.404662,0.720301 13.036371,1.983757 L 36.856992,74.539086 C 33.266215,73.666251 27.750168,73.100003 24.447945,73.064321 Z" />
                                    </g>
                                    {{#if colorOfTape}}
                                    <g fill="rgb({{colorOfTape.r}}, {{colorOfTape.g}}, {{colorOfTape.b}})">
                                        <path d="M 36.836383,33.068567 C 35.213237,32.496533 27.693198,29.524638 26.0254,29.248225 c 2.143442,-1.861054 3.712738,-3.316786 5.856531,-4.894293 1.367188,-0.382813 12.179769,-3.777121 14.179769,-4.488059 -2.964755,5.020908 -5.947458,8.02823 -9.225317,13.202694 z" />
                                        <path d="m 24.442188,73.077988 c 1.557844,3.447141 11.510897,5.693371 12.417063,1.46103 -2.103343,-14.804299 -0.389963,-37.666269 -0.02593,-41.468466 0.03049,-1.239421 -6.95035,-5.688298 -10.802212,-3.827023 -2.750526,12.215569 -2.640597,36.472758 -1.588921,43.834459 z" />
                                        <path d="m 24.447945,73.064321 1.636801,7.663963 c 4.70668,0.419845 6.404662,0.720301 13.036371,1.983757 L 36.856992,74.539086 C 33.266215,73.666251 27.750168,73.100003 24.447945,73.064321 Z" />
                                    </g>
                                    {{/if}}
                                    <path id="grip-highlight" d="m98.4,80.75c27.7,-10.8 1.9,-42.2 13.1,-61c-4.1,-4.1 -10.3,-9.4 -17.6,-13c-5.2,-2.6 -11.4,-2.6 -16.6,0c-10.7,5.3 -33.1,15.5 -56.8,20.5c-1.8,0.4 -3.5,1 -5,1.8l0,0c0,0 22.8,-4.7 37.6,20.5c14.6,25.1 17.6,41.9 45.3,31.2z" fill="rgba(255,255,255,0.15)"></path>
                                    <path id="grip-shadow" d="m126.5,82.35c2.5,-3.2 3.8,-7 4,-10.8c-8,7.9 -22,20.7 -32.1,25.2c-14.9,6.7 -26.6,-12.1 -56.1,-20.8c-14.2,-4.2 -24.9,-3.2 -32.1,-1.1c3.2,3.3 7.6,5.4 12.5,5.6c13.7,0.8 36.5,4.8 55.2,21.6c5.7,5.1 14.1,6.1 20.9,2.6c8.3,-4.1 19,-11.1 27.7,-22.3z" fill="rgba(0,0,0,0.15)"></path>
                                    <g>
                                        <circle r="11.7" cy="57.25" cx="90.6" fill="#E6E7E8"></circle>
                                        <circle r="7.8" cy="57.25" cx="90.6" fill="#414042"></circle>
                                    </g>
                                </g>
                            </svg>
                        </div>
                    </div>
                    <div class="route-card-bottom">
                        <span class="route-author">Made by: {{{author}}}</span>
                        <span class="route-date">{{date}}</span>
                    </div>
                </div>
            </a>
            {{/each}}
        </div>
    </script>
</body>
</html>