<div class="content single-route">
    <div class="route-card">
        <div class="route-card-top">
            <div class="route-grade-number grade-{{route.grade.difficulty}}">
                <span class="number"
                    {{#ifCond route.grade.color 200}}
                        style="background-color: rgb({{route.grade.color.r}},{{route.grade.color.g}},{{route.grade.color.b}})">
                    {{else}}
                        style="background-color: rgb({{route.grade.color.r}},{{route.grade.color.g}},{{route.grade.color.b}}); color: black">
                    {{/ifCond}}
                    {{route.name}}
                </span>
            </div>
            <span class="route-section"></span>
            <span class="route-section">Section: {{route.sectionName}}</span>
            <div class="route-grip">
                <svg viewBox="0 0 132 108" xmlns="http://www.w3.org/2000/svg">
                    <g>
                        <path id="grip-midtone" d="m77.3,6.65c-10.7,5.3 -33.1,15.5 -56.8,20.5c-7.6,1.6 -13.5,7.5 -14.8,15.2c-1.1,6.2 -1.7,14 -0.6,22c1.2,8.9 8.6,15.6 17.6,16.1c13.7,0.8 36.5,4.8 55.2,21.6c5.7,5.1 14.1,6.1 20.9,2.6c8.3,-4.2 19,-11.2 27.7,-22.4c5,-6.5 5.5,-15.5 0.8,-22.2c-4.4,-6.3 -9.3,-15.9 -10.3,-28.7c-0.4,-4.5 -2.2,-8.7 -5.4,-11.8c-4.1,-4.1 -10.3,-9.4 -17.6,-13c-5.3,-2.5 -11.5,-2.5 -16.7,0.1z" fill="rgb({{route.colorOfHolds.r}}, {{route.colorOfHolds.g}}, {{route.colorOfHolds.b}})"></path>
                        <g fill="none">
                            <path d="M 36.836383,33.068567 C 35.213237,32.496533 27.693198,29.524638 26.0254,29.248225 c 2.143442,-1.861054 3.712738,-3.316786 5.856531,-4.894293 1.367188,-0.382813 12.179769,-3.777121 14.179769,-4.488059 -2.964755,5.020908 -5.947458,8.02823 -9.225317,13.202694 z" />
                            <path d="m 24.442188,73.077988 c 1.557844,3.447141 11.510897,5.693371 12.417063,1.46103 -2.103343,-14.804299 -0.389963,-37.666269 -0.02593,-41.468466 0.03049,-1.239421 -6.95035,-5.688298 -10.802212,-3.827023 -2.750526,12.215569 -2.640597,36.472758 -1.588921,43.834459 z" />
                            <path d="m 24.447945,73.064321 1.636801,7.663963 c 4.70668,0.419845 6.404662,0.720301 13.036371,1.983757 L 36.856992,74.539086 C 33.266215,73.666251 27.750168,73.100003 24.447945,73.064321 Z" />
                        </g>
                        {{#if route.colorOfTape}}
                        <g fill="rgb({{route.colorOfTape.r}}, {{route.colorOfTape.g}}, {{route.colorOfTape.b}})">
                            <path d="M 36.836383,33.068567 C 35.213237,32.496533 27.693198,29.524638 26.0254,29.248225 c 2.143442,-1.861054 3.712738,-3.316786 5.856531,-4.894293 1.367188,-0.382813 12.179769,-3.777121 14.179769,-4.488059 -2.964755,5.020908 -5.947458,8.02823 -9.225317,13.202694 z" />
                            <path d="m 24.442188,73.077988 c 1.557844,3.447141 11.510897,5.693371 12.417063,1.46103 -2.103343,-14.804299 -0.389963,-37.666269 -0.02593,-41.468466 0.03049,-1.239421 -6.95035,-5.688298 -10.802212,-3.827023 -2.750526,12.215569 -2.640597,36.472758 -1.588921,43.834459 z" />
                            <path d="m 24.447945,73.064321 1.636801,7.663963 c 4.70668,0.419845 6.404662,0.720301 13.036371,1.983757 L 36.856992,74.539086 C 33.266215,73.666251 27.750168,73.100003 24.447945,73.064321 Z" />
                        </g>
                        {{/if}}
                        <path id="grip-highlight" d="m98.4,80.75c27.7,-10.8 1.9,-42.2 13.1,-61c-4.1,-4.1 -10.3,-9.4 -17.6,-13c-5.2,-2.6 -11.4,-2.6 -16.6,0c-10.7,5.3 -33.1,15.5 -56.8,20.5c-1.8,0.4 -3.5,1 -5,1.8l0,0c0,0 22.8,-4.7 37.6,20.5c14.6,25.1 17.6,41.9 45.3,31.2z" fill="rgba(255,255,255,0.15)"></path>
                        <path id="grip-shadow" d="m126.5,82.35c2.5,-3.2 3.8,-7 4,-10.8c-8,7.9 -22,20.7 -32.1,25.2c-14.9,6.7 -26.6,-12.1 -56.1,-20.8c-14.2,-4.2 -24.9,-3.2 -32.1,-1.1c3.2,3.3 7.6,5.4 12.5,5.6c13.7,0.8 36.5,4.8 55.2,21.6c5.7,5.1 14.1,6.1 20.9,2.6c8.3,-4.1 19,-11.1 27.7,-22.3z" fill="rgba(0,0,0,0.15)"></path>
                        <g>
                            <circle r="11.7" cy="57.25" cx="90.6" fill="#E6E7E8"></circle>
                            <circle r="7.8" cy="57.25" cx="90.6" fill="#414042"></circle>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        {{#if_eq hasImage true}}
        <div class="routeimagesmall routeimage" id="routeimagecontainer">
            <canvas id="routeimage" class="routeimage" width="{{route.image.width}}" height="{{route.image.height}}">canvas not supported</canvas>
            <div id="image-overlay">
                <svg viewBox="0 0 24 24">
                    <path fill="#000000" d="M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z" />
                </svg>
            </div>
        </div>
        {{else}}
            <div class="routeimage routeimagesmall no-image-added" onclick="viewModel.editRoute()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 548.165 548.165">
                    <path d="M526.76,131.045c-14.277-14.274-31.498-21.413-51.675-21.413h-63.953l-14.558-38.826 c-3.618-9.325-10.229-17.368-19.846-24.128c-9.613-6.757-19.462-10.138-29.551-10.138H200.996 c-10.088,0-19.939,3.381-29.552,10.138c-9.613,6.76-16.225,14.803-19.842,24.128l-14.56,38.826H73.089 c-20.179,0-37.401,7.139-51.678,21.413C7.137,145.32,0,162.544,0,182.721v255.813c0,20.178,7.137,37.404,21.411,51.675 c14.277,14.277,31.5,21.416,51.678,21.416h401.989c20.177,0,37.397-7.139,51.675-21.416 c14.273-14.271,21.412-31.497,21.412-51.675V182.721C548.169,162.544,541.03,145.32,526.76,131.045z M364.446,400.993 c-25.029,25.03-55.147,37.548-90.362,37.548s-65.331-12.518-90.362-37.548c-25.031-25.026-37.544-55.151-37.544-90.358 c0-35.218,12.517-65.333,37.544-90.364c25.028-25.031,55.148-37.544,90.362-37.544s65.333,12.516,90.362,37.544 c25.03,25.028,37.545,55.146,37.545,90.364C401.991,345.842,389.477,375.964,364.446,400.993z"/>
                    <path d="M274.084,228.403c-22.651,0-42.018,8.042-58.102,24.128c-16.084,16.084-24.126,35.448-24.126,58.104 c0,22.647,8.042,42.014,24.126,58.098c16.084,16.081,35.45,24.123,58.102,24.123c22.648,0,42.017-8.042,58.101-24.123 c16.084-16.084,24.127-35.45,24.127-58.098c0-22.655-8.043-42.019-24.127-58.104C316.102,236.446,296.732,228.403,274.084,228.403 z"/>
                </svg>
            </div>
        {{/if_eq}}
        <p class="note">{{route.note}} </p>

        <div class="route-card-bottom" style="clear:both;">
            <span class="route-author">Made by: {{route.author}}</span>
            <span class="route-date">{{route.date}}</span>
        </div>
    </div>
    <input class="bottom-padding submit-button neutral left" type="button" onclick="viewModel.editRoute()" value="Edit"></input>
    {{#if isAuthed}}
    <input class="bottom-padding submit-button negative right" type="button" onclick="viewModel.deleteRoute()" value="Delete"></input>
    {{/if}}
</div>